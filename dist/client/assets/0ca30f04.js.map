{"version":3,"file":"0ca30f04.js","sources":["../../../node_modules/@shopify/hydrogen/dist/esnext/hooks/useMoney/hooks.js"],"sourcesContent":["import { useMemo } from 'react';\nimport { useShop } from '../../foundation/useShop';\n/**\n * The `useMoney` hook takes a [MoneyV2 object](https://shopify.dev/api/storefront/reference/common-objects/moneyv2) and returns a\n * default-formatted string of the amount with the correct currency indicator, along with some of the parts provided by\n * [Intl.NumberFormat](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat).\n */\nexport function useMoney(money) {\n    const { locale } = useShop();\n    const options = useMemo(() => ({\n        style: 'currency',\n        currency: money.currencyCode,\n    }), [money.currencyCode]);\n    const amount = parseFloat(money.amount);\n    const value = useMemo(() => new Intl.NumberFormat(locale, options).format(amount), [amount, locale, options]);\n    const baseParts = new Intl.NumberFormat(locale, options).formatToParts(amount);\n    const nameParts = new Intl.NumberFormat(locale, {\n        ...options,\n        currencyDisplay: 'name',\n    }).formatToParts(amount);\n    const narrowParts = new Intl.NumberFormat(locale, {\n        ...options,\n        currencyDisplay: 'narrowSymbol',\n    }).formatToParts(amount);\n    const withoutTrailingZerosFormatter = new Intl.NumberFormat(locale, {\n        ...options,\n        minimumFractionDigits: 0,\n        maximumFractionDigits: 0,\n    });\n    const withoutCurrencyFormatter = new Intl.NumberFormat(locale);\n    const withoutTrailingZerosOrCurrencyFormatter = new Intl.NumberFormat(locale, {\n        minimumFractionDigits: 0,\n        maximumFractionDigits: 0,\n    });\n    const withoutTrailingZeros = amount % 1 === 0 ? withoutTrailingZerosFormatter.format(amount) : value;\n    const withoutTrailingZerosAndCurrency = amount % 1 === 0\n        ? withoutTrailingZerosOrCurrencyFormatter.format(amount)\n        : withoutCurrencyFormatter.format(amount);\n    const moneyValue = useMemo(() => {\n        var _a, _b, _c, _d, _e, _f;\n        return ({\n            currencyCode: money.currencyCode,\n            currencyName: (_b = (_a = nameParts.find((part) => part.type === 'currency')) === null || _a === void 0 ? void 0 : _a.value) !== null && _b !== void 0 ? _b : money.currencyCode,\n            currencySymbol: (_d = (_c = baseParts.find((part) => part.type === 'currency')) === null || _c === void 0 ? void 0 : _c.value) !== null && _d !== void 0 ? _d : money.currencyCode,\n            currencyNarrowSymbol: (_f = (_e = narrowParts.find((part) => part.type === 'currency')) === null || _e === void 0 ? void 0 : _e.value) !== null && _f !== void 0 ? _f : '',\n            parts: baseParts,\n            localizedString: value,\n            amount: baseParts\n                .filter((part) => ['decimal', 'fraction', 'group', 'integer', 'literal'].includes(part.type))\n                .map((part) => part.value)\n                .join(''),\n            original: money,\n            withoutTrailingZeros,\n            withoutTrailingZerosAndCurrency,\n        });\n    }, [\n        baseParts,\n        money,\n        nameParts,\n        narrowParts,\n        value,\n        withoutTrailingZeros,\n        withoutTrailingZerosAndCurrency,\n    ]);\n    return moneyValue;\n}\n"],"names":["useMemo"],"mappings":"ufAOO,WAAkB,EAAO,CAC5B,KAAM,CAAE,UAAW,IACb,EAAUA,EAAAA,QAAAA,QAAQ,IAAO,EAC3B,MAAO,WACP,SAAU,EAAM,YACnB,GAAG,CAAC,EAAM,YAAY,CAAC,EAClB,EAAS,WAAW,EAAM,MAAM,EAChC,EAAQA,EAAAA,QAAAA,QAAQ,IAAM,GAAI,MAAK,aAAa,EAAQ,CAAO,EAAE,OAAO,CAAM,EAAG,CAAC,EAAQ,EAAQ,CAAO,CAAC,EACtG,EAAY,GAAI,MAAK,aAAa,EAAQ,CAAO,EAAE,cAAc,CAAM,EACvE,EAAY,GAAI,MAAK,aAAa,EAAQ,OACzC,GADyC,CAE5C,gBAAiB,MACzB,EAAK,EAAE,cAAc,CAAM,EACjB,EAAc,GAAI,MAAK,aAAa,EAAQ,OAC3C,GAD2C,CAE9C,gBAAiB,cACzB,EAAK,EAAE,cAAc,CAAM,EACjB,EAAgC,GAAI,MAAK,aAAa,EAAQ,OAC7D,GAD6D,CAEhE,sBAAuB,EACvB,sBAAuB,CAC/B,EAAK,EACK,EAA2B,GAAI,MAAK,aAAa,CAAM,EACvD,EAA0C,GAAI,MAAK,aAAa,EAAQ,CAC1E,sBAAuB,EACvB,sBAAuB,CAC/B,CAAK,EACK,EAAuB,EAAS,IAAM,EAAI,EAA8B,OAAO,CAAM,EAAI,EACzF,EAAkC,EAAS,IAAM,EACjD,EAAwC,OAAO,CAAM,EACrD,EAAyB,OAAO,CAAM,EA2B5C,MA1BmBA,GAAAA,QAAAA,QAAQ,IAAM,CAC7B,GAAI,GAAI,EAAI,EAAI,EAAI,EAAI,EACxB,MAAQ,CACJ,aAAc,EAAM,aACpB,aAAe,GAAM,GAAK,EAAU,KAAK,AAAC,GAAS,EAAK,OAAS,UAAU,KAAO,MAAQ,IAAO,OAAS,OAAS,EAAG,SAAW,MAAQ,IAAO,OAAS,EAAK,EAAM,aACpK,eAAiB,GAAM,GAAK,EAAU,KAAK,AAAC,GAAS,EAAK,OAAS,UAAU,KAAO,MAAQ,IAAO,OAAS,OAAS,EAAG,SAAW,MAAQ,IAAO,OAAS,EAAK,EAAM,aACtK,qBAAuB,GAAM,GAAK,EAAY,KAAK,AAAC,GAAS,EAAK,OAAS,UAAU,KAAO,MAAQ,IAAO,OAAS,OAAS,EAAG,SAAW,MAAQ,IAAO,OAAS,EAAK,GACxK,MAAO,EACP,gBAAiB,EACjB,OAAQ,EACH,OAAO,AAAC,GAAS,CAAC,UAAW,WAAY,QAAS,UAAW,SAAS,EAAE,SAAS,EAAK,IAAI,CAAC,EAC3F,IAAI,AAAC,GAAS,EAAK,KAAK,EACxB,KAAK,EAAE,EACZ,SAAU,EACV,uBACA,iCACZ,CACA,EAAO,CACC,EACA,EACA,EACA,EACA,EACA,EACA,CACR,CAAK,CAEL"}