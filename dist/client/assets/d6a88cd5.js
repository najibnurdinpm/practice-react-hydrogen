var N=Object.defineProperty,O=Object.defineProperties;var A=Object.getOwnPropertyDescriptors;var L=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var T=(t,e,n)=>e in t?N(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,g=(t,e)=>{for(var n in e||(e={}))U.call(e,n)&&T(t,n,e[n]);if(L)for(var n of L(e))J.call(e,n)&&T(t,n,e[n]);return t},x=(t,e)=>O(t,A(e));import{R as E,r as u,j as W,F as $,a as m,b as q}from"./index.12980c00.js";import{u as R,c as f,a as z}from"./eb35c225.js";import{u as G}from"./597bd6dd.js";import"./692be0fa.js";const ne=E.forwardRef(function(e,n){const o=G(),{location:c}=R(),[P,a]=E.useTransition(),[b,C]=u.exports.useState(!1),[S,p]=u.exports.useState(!1),{reloadDocument:k,target:l,replace:v,to:i,onClick:h,clientState:y,prefetch:M=!0}=e,F=u.exports.useCallback(r=>{if(h&&h(r),!k&&r.button===0&&(!l||l==="_self")&&!Q(r)){r.preventDefault();const D=!!v||f(c)===f({pathname:i});o(i,{replace:D,clientState:y})}},[k,l,v,i,y,h,c,o]),d=()=>{a(()=>{M&&p(!0)})},w=()=>{a(()=>{M&&p(!1)})};u.exports.useEffect(()=>{if(S){const r=setTimeout(()=>{C(!0)},100);return()=>{clearTimeout(r)}}},[S]);const j=s(e.onMouseEnter,d),I=s(e.onMouseLeave,w),K=s(e.onFocus,d),_=s(e.onBlur,w),B=s(e.onTouchStart,d);return W($,{children:[m("a",x(g({},V(e,["to","replace","clientState","reloadDocument","prefetch"])),{ref:n,onClick:F,onMouseEnter:j,onMouseLeave:I,onFocus:K,onBlur:_,onTouchStart:B,href:e.to,children:e.children})),b&&m(H,{pathname:i})]})});function H({pathname:t}){const{getProposedLocationServerProps:e}=z(),{location:n}=R(),o=f({pathname:t});if(t.startsWith("http")||o===f(n))return null;const c=new URL(o,window.location.href),P=e({pathname:c.pathname,search:c.search}),a=`${q}?state=`+encodeURIComponent(JSON.stringify(P));return m("link",{rel:"prefetch",as:"fetch",href:a})}function s(t,e){return n=>{t==null||t(n),n.defaultPrevented||e(n)}}function Q(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function V(t,e){const n={};for(const o of Object.keys(t))e.includes(o)||(n[o]=t[o]);return n}export{ne as Link,s as composeEventHandlers};
//# sourceMappingURL=d6a88cd5.js.map
