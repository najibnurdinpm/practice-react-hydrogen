{"version":3,"file":"efb5c6e7.js","sources":["../../../node_modules/@shopify/hydrogen/dist/esnext/components/ModelViewer/ModelViewer.client.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, } from 'react';\nimport { useLoadScript } from '../../hooks/useLoadScript/useLoadScript.client';\n/**\n * The `ModelViewer` component renders a 3D model (with the `model-viewer` tag) for\n * the Storefront API's [Model3d object](https://shopify.dev/api/storefront/reference/products/model3d).\n */\nexport function ModelViewer(props) {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    const [modelViewer, setModelViewer] = useState(undefined);\n    const callbackRef = useCallback((node) => {\n        setModelViewer(node);\n    }, []);\n    const { data, id = data.id, children, className, ...passthroughProps } = props;\n    const modelViewerLoadedStatus = useLoadScript('https://unpkg.com/@google/model-viewer@v1.8.0/dist/model-viewer.min.js', {\n        module: true,\n    });\n    useEffect(() => {\n        if (modelViewer == null) {\n            return;\n        }\n        if (passthroughProps.onError)\n            modelViewer.addEventListener('error', passthroughProps.onError);\n        if (passthroughProps.onLoad)\n            modelViewer.addEventListener('load', passthroughProps.onLoad);\n        if (passthroughProps.onPreload)\n            modelViewer.addEventListener('preload', passthroughProps.onPreload);\n        if (passthroughProps.onModelVisibility)\n            modelViewer.addEventListener('model-visibility', passthroughProps.onModelVisibility);\n        if (passthroughProps.onProgress)\n            modelViewer.addEventListener('progress', passthroughProps.onProgress);\n        if (passthroughProps.onArStatus)\n            modelViewer.addEventListener('ar-status', passthroughProps.onArStatus);\n        if (passthroughProps.onArTracking)\n            modelViewer.addEventListener('ar-tracking', passthroughProps.onArTracking);\n        if (passthroughProps.onQuickLookButtonTapped)\n            modelViewer.addEventListener('quick-look-button-tapped', passthroughProps.onQuickLookButtonTapped);\n        if (passthroughProps.onCameraChange)\n            modelViewer.addEventListener('camera-change', passthroughProps.onCameraChange);\n        if (passthroughProps.onEnvironmentChange)\n            modelViewer.addEventListener('environment-change', passthroughProps.onEnvironmentChange);\n        if (passthroughProps.onPlay)\n            modelViewer.addEventListener('play', passthroughProps.onPlay);\n        if (passthroughProps.onPause)\n            modelViewer.addEventListener('ar-status', passthroughProps.onPause);\n        if (passthroughProps.onSceneGraphReady)\n            modelViewer.addEventListener('scene-graph-ready', passthroughProps.onSceneGraphReady);\n        return () => {\n            if (modelViewer == null) {\n                return;\n            }\n            if (passthroughProps.onError)\n                modelViewer.removeEventListener('error', passthroughProps.onError);\n            if (passthroughProps.onLoad)\n                modelViewer.removeEventListener('load', passthroughProps.onLoad);\n            if (passthroughProps.onPreload)\n                modelViewer.removeEventListener('preload', passthroughProps.onPreload);\n            if (passthroughProps.onModelVisibility)\n                modelViewer.removeEventListener('model-visibility', passthroughProps.onModelVisibility);\n            if (passthroughProps.onProgress)\n                modelViewer.removeEventListener('progress', passthroughProps.onProgress);\n            if (passthroughProps.onArStatus)\n                modelViewer.removeEventListener('ar-status', passthroughProps.onArStatus);\n            if (passthroughProps.onArTracking)\n                modelViewer.removeEventListener('ar-tracking', passthroughProps.onArTracking);\n            if (passthroughProps.onQuickLookButtonTapped)\n                modelViewer.removeEventListener('quick-look-button-tapped', passthroughProps.onQuickLookButtonTapped);\n            if (passthroughProps.onCameraChange)\n                modelViewer.removeEventListener('camera-change', passthroughProps.onCameraChange);\n            if (passthroughProps.onEnvironmentChange)\n                modelViewer.removeEventListener('environment-change', passthroughProps.onEnvironmentChange);\n            if (passthroughProps.onPlay)\n                modelViewer.removeEventListener('play', passthroughProps.onPlay);\n            if (passthroughProps.onPause)\n                modelViewer.removeEventListener('ar-status', passthroughProps.onPause);\n            if (passthroughProps.onSceneGraphReady)\n                modelViewer.removeEventListener('scene-graph-ready', passthroughProps.onSceneGraphReady);\n        };\n    }, [\n        modelViewer,\n        passthroughProps.onArStatus,\n        passthroughProps.onArTracking,\n        passthroughProps.onCameraChange,\n        passthroughProps.onEnvironmentChange,\n        passthroughProps.onError,\n        passthroughProps.onLoad,\n        passthroughProps.onModelVisibility,\n        passthroughProps.onPause,\n        passthroughProps.onPlay,\n        passthroughProps.onPreload,\n        passthroughProps.onProgress,\n        passthroughProps.onQuickLookButtonTapped,\n        passthroughProps.onSceneGraphReady,\n    ]);\n    if (modelViewerLoadedStatus !== 'done') {\n        // TODO: What do we want to display while the model-viewer library loads?\n        return null;\n    }\n    if (!((_b = (_a = data.sources) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.url)) {\n        throw new Error(`<ModelViewer/> requires 'data.sources' prop to be an array, with an object that has a property 'url' on it`);\n    }\n    if (!data.alt) {\n        console.warn(`<ModelViewer/> requires the 'data.alt' prop for accessibility`);\n    }\n    return (React.createElement(\"model-viewer\", { ref: callbackRef, ...passthroughProps, class: className, id: id, src: data.sources[0].url, alt: data.alt, \"camera-controls\": (_c = passthroughProps.cameraControls) !== null && _c !== void 0 ? _c : true, poster: passthroughProps.poster || ((_d = data.previewImage) === null || _d === void 0 ? void 0 : _d.url), autoplay: (_e = passthroughProps.autoplay) !== null && _e !== void 0 ? _e : true, loading: passthroughProps.loading, reveal: passthroughProps.reveal, ar: passthroughProps.ar, \"ar-modes\": passthroughProps.arModes, \"ar-scale\": passthroughProps.arScale, \"ar-placement\": passthroughProps.arPlacement, \"ios-src\": passthroughProps.iosSrc, \"touch-action\": passthroughProps.touchAction, \"disable-zoom\": passthroughProps.disableZoom, \"orbit-sensitivity\": passthroughProps.orbitSensitivity, \"auto-rotate\": passthroughProps.autoRotate, \"auto-rotate-delay\": passthroughProps.autoRotateDelay, \"rotation-per-second\": passthroughProps.rotationPerSecond, \"interaction-policy\": passthroughProps.interactionPolicy, \"interaction-prompt\": passthroughProps.interactionPrompt, \"interaction-prompt-style\": passthroughProps.interactionPromptStyle, \"interaction-prompt-threshold\": passthroughProps.interactionPromptThreshold, \"camera-orbit\": passthroughProps.cameraOrbit, \"camera-target\": passthroughProps.cameraTarget, \"field-of-view\": passthroughProps.fieldOfView, \"max-camera-orbit\": passthroughProps.maxCameraOrbit, \"min-camera-orbit\": passthroughProps.minCameraOrbit, \"max-field-of-view\": passthroughProps.maxFieldOfView, \"min-field-of-view\": passthroughProps.minFieldOfView, bounds: passthroughProps.bounds, \"interpolation-decay\": (_f = passthroughProps.interpolationDecay) !== null && _f !== void 0 ? _f : 100, \"skybox-image\": passthroughProps.skyboxImage, \"environment-image\": passthroughProps.environmentImage, exposure: passthroughProps.exposure, \"shadow-intensity\": (_g = passthroughProps.shadowIntensity) !== null && _g !== void 0 ? _g : 0, \"shadow-softness\": (_h = passthroughProps.shadowSoftness) !== null && _h !== void 0 ? _h : 0, \"animation-name\": passthroughProps.animationName, \"animation-crossfade-duration\": passthroughProps.animationCrossfadeDuration, \"variant-name\": passthroughProps.variantName, orientation: passthroughProps.orientation, scale: passthroughProps.scale }, children));\n}\n"],"names":["props","_a","_b","_c","_d","_e","_f","_g","_h","modelViewer","setModelViewer","useState","undefined","callbackRef","useCallback","node","data","id","children","className","passthroughProps","modelViewerLoadedStatus","useLoadScript","module","useEffect","onError","addEventListener","onLoad","onPreload","onModelVisibility","onProgress","onArStatus","onArTracking","onQuickLookButtonTapped","onCameraChange","onEnvironmentChange","onPlay","onPause","onSceneGraphReady","removeEventListener","sources","url","Error","alt","console","warn","_jsx","cameraControls","poster","previewImage","autoplay","loading","reveal","ar","arModes","arScale","arPlacement","iosSrc","touchAction","disableZoom","orbitSensitivity","autoRotate","autoRotateDelay","rotationPerSecond","interactionPolicy","interactionPrompt","interactionPromptStyle","interactionPromptThreshold","cameraOrbit","cameraTarget","fieldOfView","maxCameraOrbit","minCameraOrbit","maxFieldOfView","minFieldOfView","bounds","interpolationDecay","skyboxImage","environmentImage","exposure","shadowIntensity","shadowSoftness","animationName","animationCrossfadeDuration","variantName","orientation","scale"],"mappings":"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"}