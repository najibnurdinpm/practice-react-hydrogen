{"version":3,"file":"5435b340.js","sources":["../../../node_modules/@shopify/hydrogen/dist/esnext/foundation/Analytics/connectors/PerformanceMetrics/PerformanceMetrics.client.js"],"sourcesContent":["import { useEffect } from 'react';\nimport { loadScript } from '../../../../utilities';\nimport { ClientAnalytics } from '../../index';\nimport { useShop } from '../../../useShop';\nconst URL = 'https://cdn.shopify.com/shopifycloud/boomerang/shopify-boomerang-hydrogen.min.js';\nexport function PerformanceMetrics() {\n    const { storeDomain } = useShop();\n    useEffect(() => {\n        try {\n            (function () {\n                if (window.BOOMR &&\n                    (window.BOOMR.version || window.BOOMR.snippetExecuted)) {\n                    return;\n                }\n                // Executes only on first mount\n                window.BOOMR = window.BOOMR || {};\n                window.BOOMR.hydrogenPerformanceEvent = (data) => {\n                    ClientAnalytics.publish(ClientAnalytics.eventNames.PERFORMANCE, true, data);\n                    ClientAnalytics.pushToServer({\n                        body: JSON.stringify(data),\n                    }, ClientAnalytics.eventNames.PERFORMANCE);\n                };\n                window.BOOMR.storeDomain = storeDomain;\n                function boomerangSaveLoadTime(e) {\n                    window.BOOMR_onload = (e && e.timeStamp) || Date.now();\n                }\n                // @ts-ignore\n                function boomerangInit(e) {\n                    e.detail.BOOMR.init();\n                    e.detail.BOOMR.t_end = Date.now();\n                }\n                if (window.addEventListener) {\n                    window.addEventListener('load', boomerangSaveLoadTime, false);\n                    // @ts-ignore\n                }\n                else if (window.attachEvent) {\n                    // @ts-ignore\n                    window.attachEvent('onload', boomerangSaveLoadTime);\n                }\n                if (document.addEventListener) {\n                    document.addEventListener('onBoomerangLoaded', boomerangInit);\n                    // @ts-ignore\n                }\n                else if (document.attachEvent) {\n                    // @ts-ignore\n                    document.attachEvent('onpropertychange', function (e) {\n                        if (!e)\n                            e = event;\n                        if (e.propertyName === 'onBoomerangLoaded')\n                            boomerangInit(e);\n                    });\n                }\n            })();\n            loadScript(URL).catch(() => {\n                // ignore if boomerang doesn't load\n                // most likely because of an ad blocker\n            });\n        }\n        catch (err) {\n            // Do nothing\n        }\n    }, [storeDomain]);\n    return null;\n}\n"],"names":["useEffect"],"mappings":"2MAIA,KAAM,GAAM,mFACL,YAA8B,CACjC,KAAM,CAAE,eAAgB,IACxBA,SAAAA,QAAAA,UAAU,IAAM,CACZ,GAAI,CACA,AAAC,WAAY,CACT,GAAI,OAAO,OACN,QAAO,MAAM,SAAW,OAAO,MAAM,iBACtC,OAGJ,OAAO,MAAQ,OAAO,OAAS,CAAA,EAC/B,OAAO,MAAM,yBAA2B,AAAC,GAAS,CAC9C,EAAgB,QAAQ,EAAgB,WAAW,YAAa,GAAM,CAAI,EAC1E,EAAgB,aAAa,CACzB,KAAM,KAAK,UAAU,CAAI,CACjD,EAAuB,EAAgB,WAAW,WAAW,CAC7D,EACgB,OAAO,MAAM,YAAc,EAC3B,WAA+B,EAAG,CAC9B,OAAO,aAAgB,GAAK,EAAE,WAAc,KAAK,KACpD,CAED,WAAuB,EAAG,CACtB,EAAE,OAAO,MAAM,OACf,EAAE,OAAO,MAAM,MAAQ,KAAK,IAAG,CAClC,CACD,AAAI,OAAO,iBACP,OAAO,iBAAiB,OAAQ,EAAuB,EAAK,EAGvD,OAAO,aAEZ,OAAO,YAAY,SAAU,CAAqB,EAEtD,AAAI,SAAS,iBACT,SAAS,iBAAiB,oBAAqB,CAAa,EAGvD,SAAS,aAEd,SAAS,YAAY,mBAAoB,SAAU,EAAG,CAClD,AAAK,GACD,GAAI,OACJ,EAAE,eAAiB,qBACnB,EAAc,CAAC,CAC3C,CAAqB,CAErB,KACY,EAAW,CAAG,EAAE,MAAM,IAAM,CAGxC,CAAa,CACJ,MACD,CAEC,CACT,EAAO,CAAC,CAAW,CAAC,EACT,IACX"}