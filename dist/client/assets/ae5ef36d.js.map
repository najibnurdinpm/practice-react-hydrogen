{"version":3,"file":"ae5ef36d.js","sources":["../../../node_modules/@shopify/hydrogen/dist/esnext/components/AddToCartButton/AddToCartButton.client.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useCart } from '../CartProvider';\nimport { useProduct } from '../ProductProvider';\n/**\n * The `AddToCartButton` component renders a button that adds an item to the cart when pressed.\n * It must be a descendent of the `CartProvider` component.\n */\nexport function AddToCartButton(props) {\n    var _a, _b;\n    const [addingItem, setAddingItem] = useState(false);\n    const { variantId: explicitVariantId, quantity = 1, attributes, children, accessibleAddingToCartLabel, ...passthroughProps } = props;\n    const { status, linesAdd } = useCart();\n    const product = useProduct();\n    const variantId = (_b = explicitVariantId !== null && explicitVariantId !== void 0 ? explicitVariantId : (_a = product === null || product === void 0 ? void 0 : product.selectedVariant) === null || _a === void 0 ? void 0 : _a.id) !== null && _b !== void 0 ? _b : '';\n    const disabled = explicitVariantId === null ||\n        variantId === '' ||\n        (product === null || product === void 0 ? void 0 : product.selectedVariant) === null ||\n        addingItem ||\n        passthroughProps.disabled;\n    useEffect(() => {\n        if (addingItem && status === 'idle') {\n            setAddingItem(false);\n        }\n    }, [status, addingItem]);\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"button\", { ...passthroughProps, disabled: disabled, onClick: () => {\n                setAddingItem(true);\n                linesAdd([\n                    {\n                        quantity,\n                        merchandiseId: variantId,\n                        attributes,\n                    },\n                ]);\n            } }, children),\n        accessibleAddingToCartLabel ? (React.createElement(\"p\", { style: {\n                position: 'absolute',\n                width: '1px',\n                height: '1px',\n                padding: '0',\n                margin: '-1px',\n                overflow: 'hidden',\n                clip: 'rect(0, 0, 0, 0)',\n                whiteSpace: 'nowrap',\n                borderWidth: '0',\n            }, role: \"alert\", \"aria-live\": \"assertive\" }, addingItem ? accessibleAddingToCartLabel : null)) : null));\n}\n"],"names":["props","_a","_b","addingItem","setAddingItem","useState","variantId","explicitVariantId","quantity","attributes","children","accessibleAddingToCartLabel","passthroughProps","status","linesAdd","useCart","product","useProduct","selectedVariant","id","disabled","useEffect","_jsxs","_Fragment","_jsx","merchandiseId","position","width","height","padding","margin","overflow","clip","whiteSpace","borderWidth"],"mappings":"o1BAOO,WAAyBA,EAAO,CACnC,GAAIC,GAAIC,EACR,KAAM,CAACC,EAAYC,GAAiBC,EAAQ,QAAA,SAAC,EAAD,EACmFL,IAAvHM,WAAWC,EAAmBC,WAAW,EAAGC,aAAYC,WAAUC,+BAAqDX,EAArBY,IAAqBZ,EAArBY,CAAlGN,YAA8BE,WAAcC,aAAYC,WAAUC,gCACpE,CAAEE,SAAQC,YAAaC,EAAO,EAC9BC,EAAUC,IACVX,EAAaJ,GAAKK,GAAsB,KAAuCA,EAAqBN,GAAKe,GAAY,KAA6B,OAASA,EAAQE,mBAAqB,MAAQjB,IAAO,OAAS,OAASA,EAAGkB,MAAQ,MAAQjB,IAAO,OAASA,EAAK,GACjQkB,EAAWb,IAAsB,MACnCD,IAAc,IACbU,IAAY,KAA6B,OAASA,EAAQE,mBAAqB,MAChFf,GACAS,EAAiBQ,SACrBC,SAAAA,QAAAA,UAAU,IAAM,CACZ,AAAIlB,GAAcU,IAAW,QACzBT,EAAc,EAAD,CAEpB,EAAE,CAACS,EAAQV,CAAT,CAJM,EAKTmB,EAAAC,EAAA,CAAA,SAAA,CAAAC,EAAA,SAAA,OACuCZ,GADvC,CAAA,SACmEQ,EADnE,QACsF,IAAM,CAChFhB,EAAc,EAAD,EACbU,EAAS,CACL,CACIN,WACAiB,cAAenB,EACfG,YAJC,CAAA,CAAD,CAHpB,EAAA,SAUaC,CAVb,EAAA,EAWIC,EAA2Ba,EAAA,IAAA,CAAA,MAAsC,CACzDE,SAAU,WACVC,MAAO,MACPC,OAAQ,MACRC,QAAS,IACTC,OAAQ,OACRC,SAAU,SACVC,KAAM,mBACNC,WAAY,SACZC,YAAa,GATM,EAAA,KAUd,QAVc,YAUQ,YAVR,SAUuB/B,EAAaQ,EAA8B,IAVlE,CAAA,EAU2E,IArB1G,CAAA,CAAA,CAsBH"}