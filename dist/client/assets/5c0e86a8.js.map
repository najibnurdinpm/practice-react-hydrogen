{"version":3,"file":"5c0e86a8.js","sources":["../../../node_modules/@shopify/hydrogen/dist/esnext/utilities/video_parameters.js","../../../node_modules/@shopify/hydrogen/dist/esnext/components/Video/Video.js","../../../node_modules/@shopify/hydrogen/dist/esnext/components/ExternalVideo/ExternalVideo.js","../../../node_modules/@shopify/hydrogen/dist/esnext/components/MediaFile/MediaFile.js","../../../src/components/Gallery.client.jsx"],"sourcesContent":["import { useMemo } from 'react';\nexport function addParametersToEmbeddedVideoUrl(url, parameters) {\n    if (parameters == null) {\n        return url;\n    }\n    const params = Object.keys(parameters).reduce((accumulator, param) => {\n        const value = parameters[param];\n        if (value == null) {\n            return accumulator;\n        }\n        return accumulator + `&${param}=${value}`;\n    }, '');\n    return `${url}?${params}`;\n}\nexport function useEmbeddedVideoUrl(url, parameters) {\n    return useMemo(() => {\n        if (!parameters) {\n            return url;\n        }\n        return addParametersToEmbeddedVideoUrl(url, parameters);\n    }, [url, parameters]);\n}\n","import React from 'react';\nimport { shopifyImageLoader } from '../../utilities';\n/**\n * The `Video` component renders a `video` for the Storefront API's [Video object](https://shopify.dev/api/storefront/reference/products/video).\n */\nexport function Video(props) {\n    var _a, _b;\n    const { data, previewImageOptions, id = data.id, playsInline = true, controls = true, ...passthroughProps } = props;\n    const posterUrl = shopifyImageLoader({\n        src: (_b = (_a = data.previewImage) === null || _a === void 0 ? void 0 : _a.url) !== null && _b !== void 0 ? _b : '',\n        ...previewImageOptions,\n    });\n    if (!data.sources) {\n        throw new Error(`<Video/> requires a 'data.sources' array`);\n    }\n    return (\n    // eslint-disable-next-line jsx-a11y/media-has-caption\n    React.createElement(\"video\", { ...passthroughProps, id: id, playsInline: playsInline, controls: controls, poster: posterUrl }, data.sources.map((source) => {\n        if (!((source === null || source === void 0 ? void 0 : source.url) && (source === null || source === void 0 ? void 0 : source.mimeType))) {\n            throw new Error(`<Video/> needs 'source.url' and 'source.mimeType'`);\n        }\n        return (React.createElement(\"source\", { key: source.url, src: source.url, type: source.mimeType }));\n    })));\n}\n","import React from 'react';\nimport { useEmbeddedVideoUrl } from '../../utilities';\n/**\n * The `ExternalVideo` component renders an embedded video for the Storefront\n * API's [ExternalVideo object](https://shopify.dev/api/storefront/reference/products/externalvideo).\n */\nexport function ExternalVideo(props) {\n    const { data, options, id = data.id, frameBorder = '0', allow = 'accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture', allowFullScreen = true, ...passthroughProps } = props;\n    if (!data.embedUrl) {\n        throw new Error(`<ExternalVideo/> requires the 'embedUrl' property`);\n    }\n    const url = useEmbeddedVideoUrl(data.embedUrl, options);\n    return (React.createElement(\"iframe\", { ...passthroughProps, id: id !== null && id !== void 0 ? id : data.embedUrl, frameBorder: frameBorder, allow: allow, allowFullScreen: allowFullScreen, src: url }));\n}\n","import React from 'react';\nimport { Image } from '../Image';\nimport { Video } from '../Video';\nimport { ExternalVideo } from '../ExternalVideo';\nimport { ModelViewer } from '../ModelViewer';\n/**\n * The `MediaFile` component renders the media for the Storefront API's\n * [Media object](https://shopify.dev/api/storefront/reference/products/media). It renders an `Image`, a\n * `Video`, an `ExternalVideo`, or a `ModelViewer` depending on the `mediaContentType` of the\n * `media` provided as a prop.\n */\nexport function MediaFile({ data, options, ...passthroughProps }) {\n    switch (data.mediaContentType) {\n        case 'IMAGE': {\n            const dataImage = data.image;\n            if (!dataImage) {\n                console.warn(`No \"image\" property was found on the \"data\" prop for <MediaFile/>, for the \"type='image'\"`);\n                return null;\n            }\n            return (React.createElement(Image, { ...passthroughProps, data: dataImage, loaderOptions: options }));\n        }\n        case 'VIDEO':\n            return (React.createElement(Video, { ...passthroughProps, data: data, previewImageOptions: options }));\n        case 'EXTERNAL_VIDEO':\n            return (React.createElement(ExternalVideo, { ...passthroughProps, data: data, options: options }));\n        case 'MODEL_3D':\n            return (React.createElement(ModelViewer, { ...passthroughProps, data: data }));\n        default:\n            return null;\n    }\n}\n","import {useProduct, MediaFile, Image} from '@shopify/hydrogen/client';\n\n/**\n * A client component that defines a media gallery for hosting images, 3D models, and videos of products\n */\nexport default function Gallery() {\n  const {media, selectedVariant} = useProduct();\n\n  const featuredMedia = selectedVariant.image || media[0]?.image;\n  const featuredMediaSrc = featuredMedia?.url.split('?')[0];\n  const galleryMedia = media.filter((med) => {\n    if (\n      med.mediaContentType === MODEL_3D_TYPE ||\n      med.mediaContentType === VIDEO_TYPE ||\n      med.mediaContentType === EXTERNAL_VIDEO_TYPE\n    ) {\n      return true;\n    }\n\n    return !med.image.url.includes(featuredMediaSrc);\n  });\n\n  if (!media.length) {\n    return null;\n  }\n\n  return (\n      <div class=\"d-flex flex-row bd-highlight mb-3\">\n        <div class=\"p-2 bd-highlight\">\n        <div class=\"d-flex flex-column bd-highlight mb-3 w-[100px]\">\n        {galleryMedia.map((med) => {\n        let extraProps = {};\n\n        if (med.mediaContentType === MODEL_3D_TYPE) {\n          extraProps = MODEL_3D_PROPS;\n        }\n\n        return (\n          <MediaFile\n            tabIndex=\"0\"\n            key={med.id || med.image.id}\n            className=\"w-[80vw] md:w-auto h-full md:h-auto object-cover object-center transition-all snap-start border border-gray-200 flex-shrink-0 rounded-lg\"\n            data={med}\n            fetchpriority=\"low\"\n            options={{\n              height: '485',\n              crop: 'center',\n            }}\n            {...extraProps}\n          />\n        );\n      })}\n          \n        </div>\n        </div>\n        <div class=\"p-2 bd-highlight\">\n          \n          <div\n            className=\"gap-4 flex md:grid md:grid-cols-2 overflow-x-scroll no-scrollbar scroll-snap-x scroll-smooth h-[485px] md:h-auto place-content-start\"\n            tabIndex=\"-1\"\n          >\n\n            <Image\n              fetchpriority=\"high\"\n              data={selectedVariant.image}\n              className=\"w-[80vw] md:w-full h-full md:h-auto object-cover object-center flex-shrink-0 md:flex-shrink-none snap-start md:col-span-2 border border-gray-200 rounded-lg\"\n            />\n\n          </div>\n        </div>\n      </div>\n\n\n\n    // <div\n    //   className=\"gap-4 flex md:grid md:grid-cols-2 overflow-x-scroll no-scrollbar scroll-snap-x scroll-smooth h-[485px] md:h-auto place-content-start\"\n    //   tabIndex=\"-1\"\n    // >\n    //   <Image\n    //     fetchpriority=\"high\"\n    //     data={selectedVariant.image}\n    //     className=\"w-[80vw] md:w-full h-full md:h-auto object-cover object-center flex-shrink-0 md:flex-shrink-none snap-start md:col-span-2 border border-gray-200 rounded-lg\"\n    //   />\n    //   {galleryMedia.map((med) => {\n    //     let extraProps = {};\n\n    //     if (med.mediaContentType === MODEL_3D_TYPE) {\n    //       extraProps = MODEL_3D_PROPS;\n    //     }\n\n    //     return (\n    //       <MediaFile\n    //         tabIndex=\"0\"\n    //         key={med.id || med.image.id}\n    //         className=\"w-[80vw] md:w-auto h-full md:h-auto object-cover object-center transition-all snap-start border border-gray-200 flex-shrink-0 rounded-lg\"\n    //         data={med}\n    //         fetchpriority=\"low\"\n    //         options={{\n    //           height: '485',\n    //           crop: 'center',\n    //         }}\n    //         {...extraProps}\n    //       />\n    //     );\n    //   })}\n    // </div>\n  );\n}\n\nconst MODEL_3D_TYPE = 'MODEL_3D';\nconst MODEL_3D_PROPS = {\n  interactionPromptThreshold: '0',\n};\nconst VIDEO_TYPE = 'VIDEO';\nconst EXTERNAL_VIDEO_TYPE = 'EXTERNAL_VIDEO';\n"],"names":["useMemo","media","selectedVariant","useProduct","featuredMedia","image","featuredMediaSrc","url","split","galleryMedia","filter","med","mediaContentType","MODEL_3D_TYPE","VIDEO_TYPE","EXTERNAL_VIDEO_TYPE","includes","length","_jsx","map","extraProps","MODEL_3D_PROPS","height","crop","id","interactionPromptThreshold"],"mappings":"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"}