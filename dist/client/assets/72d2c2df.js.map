{"version":3,"file":"72d2c2df.js","sources":["../../../node_modules/@shopify/hydrogen/dist/esnext/components/ShopPayButton/ShopPayButton.client.js"],"sourcesContent":["import React from 'react';\nimport { useShop } from '../../foundation/useShop';\nimport { useLoadScript } from '../../hooks/useLoadScript/useLoadScript.client';\nconst URL = 'https://cdn.shopify.com/shopifycloud/shop-js/v0.8/client.js';\n/**\n * The `ShopPayButton` component renders a button that redirects to the Shop Pay checkout.\n */\nexport function ShopPayButton({ variantIds, className, variantIdsAndQuantities, }) {\n    const { storeDomain } = useShop();\n    const shopPayLoadedStatus = useLoadScript(URL);\n    let ids;\n    if (variantIds && variantIdsAndQuantities) {\n        throw new Error(DoublePropsErrorMessage);\n    }\n    if (variantIds) {\n        ids = variantIds.reduce((prev, curr) => {\n            const bareId = getIdFromGid(curr);\n            if (bareId) {\n                prev.push(bareId);\n            }\n            return prev;\n        }, []);\n    }\n    else if (variantIdsAndQuantities) {\n        ids = variantIdsAndQuantities.reduce((prev, curr) => {\n            var _a;\n            const bareId = getIdFromGid(curr === null || curr === void 0 ? void 0 : curr.id);\n            if (bareId) {\n                prev.push(`${bareId}:${(_a = curr === null || curr === void 0 ? void 0 : curr.quantity) !== null && _a !== void 0 ? _a : 1}`);\n            }\n            return prev;\n        }, []);\n    }\n    else {\n        throw new Error(MissingPropsErrorMessage);\n    }\n    return (\n    /* eslint-disable jsx-a11y/no-noninteractive-tabindex */\n    React.createElement(\"div\", { className: className, tabIndex: 0 }, shopPayLoadedStatus === 'done' && (React.createElement(\"shop-pay-button\", { \"store-url\": `https://${storeDomain}`, variants: ids.join(',') })))\n    /* eslint-enable jsx-a11y/no-noninteractive-tabindex */\n    );\n}\n/**\n * Takes a string in the format of \"gid://shopify/ProductVariant/41007289630776\" and returns a string of the ID part at the end: \"41007289630776\"\n */\nexport function getIdFromGid(id) {\n    if (!id)\n        return;\n    return id.split('/').pop();\n}\nexport const MissingPropsErrorMessage = `You must pass in either \"variantIds\" or \"variantIdsAndQuantities\" to ShopPayButton`;\nexport const DoublePropsErrorMessage = `You must provide either a variantIds or variantIdsAndQuantities prop, but not both in the ShopPayButton component`;\n"],"names":[],"mappings":"0LAGA,KAAM,GAAM,8DAIL,WAAuB,CAAE,aAAY,YAAW,2BAA4B,CAC/E,KAAM,CAAE,eAAgB,IAClB,EAAsB,EAAc,CAAG,EAC7C,GAAI,GACJ,GAAI,GAAc,EACd,KAAM,IAAI,OAAM,CAAuB,EAE3C,GAAI,EACA,EAAM,EAAW,OAAO,CAAC,EAAM,IAAS,CACpC,KAAM,GAAS,EAAa,CAAI,EAChC,MAAI,IACA,EAAK,KAAK,CAAM,EAEb,CACV,EAAE,CAAE,CAAA,UAEA,EACL,EAAM,EAAwB,OAAO,CAAC,EAAM,IAAS,CACjD,GAAI,GACJ,KAAM,GAAS,EAAa,GAAS,KAA0B,OAAS,EAAK,EAAE,EAC/E,MAAI,IACA,EAAK,KAAK,GAAG,KAAW,GAAK,GAAS,KAA0B,OAAS,EAAK,YAAc,MAAQ,IAAO,OAAS,EAAK,GAAG,EAEzH,CACV,EAAE,CAAE,CAAA,MAGL,MAAM,IAAI,OAAM,CAAwB,EAE5C,MAEA,GAAM,cAAc,MAAO,CAAE,UAAW,EAAW,SAAU,CAAG,EAAE,IAAwB,QAAW,EAAM,cAAc,kBAAmB,CAAE,YAAa,WAAW,IAAe,SAAU,EAAI,KAAK,GAAG,CAAC,CAAE,CAAE,CAGpN,CAIO,WAAsB,EAAI,CAC7B,GAAI,EAAC,EAEL,MAAO,GAAG,MAAM,GAAG,EAAE,IAAG,CAC5B,CACY,KAAC,GAA2B,qFAC3B,EAA0B"}